<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:MarkItDown.GUI.ViewModels"
        xmlns:actipro="http://schemas.actiprosoftware.com/avaloniaui"
        x:Class="MarkItDown.GUI.MainWindow"
        x:DataType="vm:MainWindowViewModel"
        Title="MarkItDown.GUI"
        Width="550"
        Height="400">
    <Grid>
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <Grid RowDefinitions="Auto,*">
        <!-- ãƒ‰ãƒ­ãƒƒãƒ—é ˜åŸŸ -->
        <Border Grid.Row="0"
                x:Name="DropZoneBorder"
                BorderThickness="1"
                BorderBrush="{actipro:ThemeResource Container4BorderBrush}"
                Background="{actipro:ThemeResource Container4BackgroundBrush}"
                CornerRadius="{actipro:ScaledCornerRadius 1.5}"
                Padding="{actipro:ScaledThickness 5}"
                Margin="5"
                Height="120"
                ClipToBounds="False">
            <StackPanel VerticalAlignment="Center"
                        HorizontalAlignment="Center">
                <TextBlock Text="ðŸ“"
                           FontSize="24"
                           HorizontalAlignment="Center"
                           Margin="0,0,0,10"/>
                <TextBlock Text="ã“ã“ã«ãƒ‰ãƒ­ãƒƒãƒ—"
                           FontSize="16"
                           HorizontalAlignment="Center"
                           Foreground="#666666"/>
            </StackPanel>
        </Border>

        <!-- ãƒ­ã‚°è¡¨ç¤ºã‚¨ãƒªã‚¢ -->
        <Expander Grid.Row="1"
                  Header="ãƒ­ã‚°"
                  IsExpanded="True"
                  Margin="5"
                  VerticalAlignment="Stretch">
            <ScrollViewer VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Auto">
                <TextBox Text="{Binding LogText, Mode=OneWay}"
                         IsReadOnly="True"
                         FontFamily="Consolas"
                         FontSize="10"
                         TextWrapping="NoWrap"/>
            </ScrollViewer>
        </Expander>
        </Grid>

        <!-- å‡¦ç†ä¸­ã‚ªãƒ¼ãƒãƒ¼ãƒ¬ã‚¤ãƒ‘ãƒãƒ« -->
        <Grid x:Name="ProcessingOverlayPanel"
              IsVisible="{Binding IsProcessing}"
              Background="#DD000000"
              ZIndex="1000">
            <Border Background="#2C2C2C"
                    CornerRadius="8"
                    Padding="40,30"
                    MaxWidth="450"
                    HorizontalAlignment="Center"
                    VerticalAlignment="Center"
                    BoxShadow="0 4 16 0 #40000000">
                <StackPanel Spacing="20">
                    <TextBlock Text="{Binding ProcessingTitle}"
                               FontSize="18"
                               FontWeight="Bold"
                               Foreground="White"
                               HorizontalAlignment="Center"/>
                    
                    <TextBlock Text="{Binding ProcessingStatus}"
                               FontSize="14"
                               Foreground="#CCCCCC"
                               HorizontalAlignment="Center"
                               TextWrapping="Wrap"
                               MaxWidth="380"/>
                    
                    <!-- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰é€²æ—è¡¨ç¤º -->
                    <StackPanel IsVisible="{Binding IsDownloading}"
                                Spacing="10">
                        <TextBlock HorizontalAlignment="Center"
                                   Foreground="#4A9EFF"
                                   FontSize="16"
                                   FontWeight="SemiBold">
                            <TextBlock.Text>
                                <MultiBinding StringFormat="{}{0:F1}%">
                                    <Binding Path="DownloadProgress"/>
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                        
                        <ProgressBar Height="8"
                                     Value="{Binding DownloadProgress}"
                                     Maximum="100"
                                     Foreground="#4A9EFF"
                                     Background="#3A3A3A"/>
                    </StackPanel>
                    
                    <!-- ä¸ç¢ºå®šãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ï¼ˆãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ä¸­ä»¥å¤–ï¼‰ -->
                    <ProgressBar Height="8"
                                 IsVisible="{Binding !IsDownloading}"
                                 IsIndeterminate="True"
                                 Foreground="#4A9EFF"
                                 Background="#3A3A3A"
                                 Margin="0,10,0,0"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
